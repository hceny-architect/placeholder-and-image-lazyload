/**
 * The default initialization loads data-src, the background image sets data-bg-src, and initializes again using $lazyload.init();
 * 默认初始化加载data-src,背景图片设置data-bg-src,再次初始化使用$lazyload.init();
 * 
 * 作者(Author)：hceny
 * github:https://github.com/hceny-architect/web-js-tools
 * Blog：http://blog.csdn.net/qq_17076445
 * 
 * Please use this plugin to retain this copyright information.
 * 使用该插件请保留该版权信息.
 **/
var $lazyload={fn:null,init:function(A){this.fn&&this.fn(A)}};$(function(){var A="data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSgBBwcHCggKEwoKEygaFhooKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKP/AABEIACYAMgMBEQACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APUtK03SovD/APaerm5cPN5SJCQO3v8AQ0AJ53hP/n21X80/xoAPO8J/8+2q/mn+NAB53hP/AJ9tV/NP8aAF83woQSLXVuPdf8aALNlp/h/V4ruPTlvobmKFpVMpGDj6Z9RQB8X/ABn/AOSlax/2x/8ARKUAfY9z/wAk8tP+v4/+gtQBgWVpPe3CwWkTSyt0VaAGXEEttO8NxG0cqHDKwwRQBHQB6L4I1TSLbw+0NzNBDMCxmEhAMnJx9eOMUAY/hBoX1zWWtl2wNazGNfRdy4/SgD4x+M//ACUrWP8Atj/6JSgD7Huf+SeWn/X8f/QWoA67wFon9m6d9qnTF1cAE56qnYf1P/1qAF8beHRqtt9ptVAvohx/00X+79fSgDzTT7C5v71bS2jLTMcEHjb6k+gFAHT614HuLKxWeyla6dBmWPbg/VfX6UAVPAX/AB/6j/14yfzWgD44+M//ACUrWP8Atj/6JSgD7m8I6bHqfhqxSfBihvGmZT/FgEAfmRQB3FABQBDFa28U0k0UMaSyffdVALfU96AJqAMW60a1t7m91G3Xy5ZLaSORV6NnB3fXigD8+/jP/wAlK1j/ALY/+iUoA+jfD/x98MaNaNbR6lFLEW3DfazgjPXolAGp/wANJ+Gf+fy3/wDAe4/+IoAP+Gk/DP8Az+W//gPcf/EUAH/DSfhn/n8t/wDwHuP/AIigA/4aT8M/8/lv/wCA9x/8RQBBe/tG+G7m0lhW/gjMildwtpyRn/gFAHyx8TdVs9a8calqGmTefaTeVsk2sucRIp4YA9QaAP8A/9k=",a="img[data-src]",n="[data-bg-src]",o="data-src",t="data-bg-src",g=function(){var g=$(a),r=$(n),f=[],i=[];return function(e){e&&(g=$(a),f=[],r=$(n),i=[]);var c=window.innerHeight?window.innerHeight:$(window).height(),B=$(window).scrollTop();$.each(g,function(a,n){if($.inArray(a,f)>-1)return!0;var t=$(n);if(t.offset().top<c+B){var g=t.attr("src");g&&g!=A||t.attr("src",t.attr(o)),f.push(a)}}),$.each(r,function(a,n){if($.inArray(a,i)>-1)return!0;var o=$(n);if(o.offset().top<c+B){var g=o.css("background-image"),r=A;(!g||g.indexOf(r)>-1||"none"==g)&&o.css("background-image","url("+o.attr(t))+")",i.push(a)}})}},r=function(a,n,o){var t=null,g=new Date;return function(){var r=new Date;clearTimeout(t),r-g>=o?(a(A),g=r):t=setTimeout(a,n)}},f=g();$lazyload.fn=function(o){A=o&&A,$.each($(a),function(a,n){var o=$(n);o.attr("src")||o.attr("src",A)}),$.each($(n),function(a,n){var o=$(n),t=o.css("background-image");t&&"none"!=t||o.css("background-image","url("+A+")")}),f(!0)},$lazyload.fn(A),$(window).scroll(r(f,500,1e3))});